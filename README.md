# Accounts Service
Этот проект представляет собой сервис авторизации и аутентификации. Реализована возможность создания аккаунта с помощью стороннего сервиса авторизации (Telegram).

---
## POST /v1/register
Регистрация нового пользователя. Метод принимает email и пароль.

### Параметры запроса

| Название поля              | Название поля | Тип    | Описание    |
|----------------------------|---------------|--------|-------------|
| passwordAuthenticationData | email         | string | Email адрес |
|                            | password      | string | Пароль      |

### Ответ

| Название поля | Тип    | Описание                               |
|---------------|--------|----------------------------------------|
| message       | string | _Опционально._ Сообщение об результате |
| status        | number | _Опционально._ Код ответа              |

#### Headers

| Название поля | Описание                                                                                       |
|---------------|------------------------------------------------------------------------------------------------|
| Set-Cookie    | MEOWSESSIONID – токен сесси пользователя Attributes: Path=/; HttpOnly; Secure;  SameSite=None* |

_\* SameSite=None для возможности использовать во внешних сервисах._

## POST /v1/login
Авторизация пользователя. Метод принимает email и пароль. <br>
Также поддерживается вход через Telegram.
### Запрос авторизации
Если пользовтаель входит по логину и паролю, то формируется объект passwordAuthenticationData. <br>
Иначе, если используется вход через Telegram, то пересылается объект telegramData, который сервис проверяет на валидность.  

#### Параметры запроса

| Название поля              | Название поля        | Тип    | Описание                                  |
|----------------------------|----------------------|--------|-------------------------------------------|
| passwordAuthenticationData | email                | string | Email адрес                               |
|                            | password             | string | Пароль                                    |
| telegramData               | id                   | number | Telegram ID                               |
|                            | auth\_date           | number | Время получения данных для аутентификации |
|                            | userНазвание поля    | string | Ник пользователя                          |
|                            | first\_Название поля | string | Имя пользователя                          |
|                            | photo\_url           | string | URL картинки профиля пользователя         |
|                            | hash                 | string | Hash - подпись переданных выше данных     |

### Ответ

| Название поля | Тип    | Описание                               |
|---------------|--------|----------------------------------------|
| message       | string | _Опционально._ Сообщение об результате |
| status        | number | _Опционально._ Код ответа              |

#### Headers

| Название поля | Описание                                                                                      |
|---------------|-----------------------------------------------------------------------------------------------|
| Set-Cookie    | MEOWSESSIONID – токен сесси пользователя Attributes: Path=/; HttpOnly; Secure;  SameSite=None |

---

## GET /v1/user-profile
Получение профиля пользователя. Метод возвращает id пользователя, если в Cookie передана валидная сессия.
### Запрос
#### Headers

| Название поля | Описание                                                                                      |
|---------------|-----------------------------------------------------------------------------------------------|
| Cookie        | MEOWSESSIONID – токен сесси пользователя Attributes: Path=/; HttpOnly; Secure;  SameSite=None |


### Ответ

| Название поля | Название поля | Тип    | Описание                               |
|---------------|---------------|--------|----------------------------------------|
| data          | id            | number | Уникальный ID пользователя             |
| message       |               | string | _Опционально._ Сообщение об результате |
| status        |               | number | _Опционально._ Код ответа              |
---

## POST /v1/logout
Удаляет сессию и деавторизовывает пользователя.

### Ответ


| Название поля | Тип    | Описание                               |
|---------------|--------|----------------------------------------|
| message       | string | _Опционально._ Сообщение об результате |
| status        | number | _Опционально._ Код ответа              |
---
